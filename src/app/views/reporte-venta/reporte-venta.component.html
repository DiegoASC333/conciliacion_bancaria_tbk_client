<h1>Ventas {{ titulo }}</h1>
<c-container>
  <c-row class="mb-3">
    <c-col lg="5">
      <c-date-range-picker
        [(startDate)]="startDate"
        [(endDate)]="endDate"
        (startDateChange)="loadData()"
        (endDateChange)="loadData()"
      />
    </c-col>
  </c-row>
  <c-row>
    <c-col>
      <div>
        <button cLoadingButton disabledOnLoading cButton color="primary" (click)="Exportar()">
          Exportar a excel
        </button>
      </div>
    </c-col>
  </c-row>
</c-container>

<app-custom-table [items]="ventasTbk"></app-custom-table>

<c-row class="mt-4 justify-content-end">
  <c-col lg="8" *ngIf="resumenVentas.length > 0">
    <h6 class="text-muted mb-3">Totales por Tipo de Documento:</h6>
    <div class="d-flex flex-wrap gap-2">
      <c-card
        *ngFor="let item of resumenVentas"
        class="border-start-info border-start-4 shadow-sm"
        style="min-width: 150px"
      >
        <c-card-body class="p-2 px-3">
          <div class="text-medium-emphasis small">{{ item.tipoDoc }}</div>
          <div class="fw-semibold">{{ item.monto | currency: 'CLP' : '$' : '1.0-0' }}</div>
        </c-card-body>
      </c-card>
    </div>
  </c-col>

  <c-col lg="4">
    <c-card class="border-top-primary border-top-3 shadow-sm mb-3">
      <c-card-body class="d-flex justify-content-between align-items-center">
        <span class="text-muted fw-bold">TOTAL GENERAL:</span>
        <span class="h4 mb-0 text-primary fw-bold">
          {{ totalVentas | currency: 'CLP' : '$' : '1.0-0' }}
        </span>
      </c-card-body>
    </c-card>
  </c-col>
</c-row>
